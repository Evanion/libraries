#!/bin/sh

# Run linting and tests only for affected projects
echo "ğŸ” Running linting on affected projects..."
npx nx affected --target=lint --parallel=3

if [ $? -ne 0 ]; then
  echo "âŒ Linting failed for affected projects"
  exit 1
fi

echo "ğŸ§ª Running tests on affected projects..."
npx nx affected --target=test --parallel=3

if [ $? -ne 0 ]; then
  echo "âŒ Tests failed for affected projects"
  exit 1
fi

echo "âœ… All checks passed for affected projects"
